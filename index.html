<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURATOR</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Edu+AU+VIC+WA+NT+Hand:wght@400..700&family=Hachi+Maru+Pop&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Edu AU VIC WA NT Hand', sans-serif;
            background-color: #ddfff7;
            color: #1f2232;
        }
        .container {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }
        h1 {
            font-family: 'Hachi Maru Pop', cursive;
            color: #b96ac9;
        }
        h2 {
            color: #e980fc;
        }
        input[type="text"], input[type="password"], button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #b96ac9;
            border-radius: 5px;
            font-size: 16px;
        }
        button {
            background-color: #ffd2fc;
            color: #1f2232;
            font-weight: bold;
            cursor: pointer;
        }
        button:hover {
            background-color: #e980fc;
            color: #fff;
        }
        .hidden {
            display: none;
        }
        .mcq-container {
            text-align: left;
        }
        .radio-button {
            margin: 5px 0;
        }
        .suggestion {
            margin: 20px 0;
            font-size: 18px;
            color: #596475;
            text-align: left;
        }
        .suggestion a {
            color: #e980fc;
            text-decoration: none;
            font-weight: bold;
        }
        .suggestion a:hover {
            text-decoration: underline;
        }
        .timer {
            font-size: 24px;
            font-weight: bold;
            color: #bc9ec1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>CURATOR</h1>
<!--         <h2>Education is boring???.</h2> -->

        <!-- Roll and Password Input -->
        <div id="login-section">
            <input type="text" id="roll" placeholder="Enter Roll">
            <input type="password" id="password" placeholder="Enter Password">
            <button id="login-btn">Login</button>
        </div>

        <!-- Validating Section -->
        <div id="validating-section" class="hidden">
            <p>Validating... Please wait.</p>
        </div>

        <!-- Exam Section -->
        <div id="exam-section" class="hidden">
            <p class="timer" id="timer">20:00</p>
            <h2>MODE</h2>
            <label class="radio-button"><input type="radio" name="mode" value="silent" id="silent"> Silent</label>
            <label class="radio-button"><input type="radio" name="mode" value="study-booster" id="study-booster" checked> Study Booster</label>
            <label class="radio-button"><input type="radio" name="mode" value="disaster" id="disaster"> Disaster</label>
            <div class="mcq-container" id="mcq-section">
                <h2>Questions</h2>
              <p>1. One of my best getting Ph.D. degree today.</p>
<label><input type="radio" name="q1" value="A"> A. Friend</label><br>
<label><input type="radio" name="q1" value="B"> B. Friend are</label><br>
<label><input type="radio" name="q1" value="C"> C. Friends is</label><br>
<label><input type="radio" name="q1" value="D"> D. Friend is</label><br>

<p>2. I still have _______ money in my pocket.</p>
<label><input type="radio" name="q2" value="A"> A. a little</label><br>
<label><input type="radio" name="q2" value="B"> B. few</label><br>
<label><input type="radio" name="q2" value="C"> C. many</label><br>
<label><input type="radio" name="q2" value="D"> D. a few</label><br>

<p>3. Have you ever ____ Sundarbans?</p>
<label><input type="radio" name="q3" value="A"> A. looked, on, to</label><br>
<label><input type="radio" name="q3" value="B"> B. travelled, within, forest</label><br>
<label><input type="radio" name="q3" value="C"> C. seen, or, been</label><br>
<label><input type="radio" name="q3" value="D"> D. been, to, the</label><br>

<p>4. The word reproduction is ---.</p>
<label><input type="radio" name="q4" value="A"> A. an adjective</label><br>
<label><input type="radio" name="q4" value="B"> B. a verb</label><br>
<label><input type="radio" name="q4" value="C"> C. an adverb</label><br>
<label><input type="radio" name="q4" value="D"> D. a noun</label><br>

<p>5. Select the alternative that best replaces the underlined portion of the sentence:</p>
<p>Neither Mr. Karim nor his friend are invited to speak at the seminar.</p>
<label><input type="radio" name="q5" value="A"> A. is invited to speak at the seminar</label><br>
<label><input type="radio" name="q5" value="B"> B. are invited to speak at the seminar</label><br>
<label><input type="radio" name="q5" value="C"> C. is to speak at the seminar</label><br>
<label><input type="radio" name="q5" value="D"> D. are speaking at the seminar</label><br>

<p>6. It was very _____ of him to speak lies in front of the jury. The missing word is:</p>
<label><input type="radio" name="q6" value="A"> A. unjust</label><br>
<label><input type="radio" name="q6" value="B"> B. dishonest</label><br>
<label><input type="radio" name="q6" value="C"> C. tricky</label><br>
<label><input type="radio" name="q6" value="D"> D. clever</label><br>

<p>7. Each sentence has four words, marked A, B, C, or D. Identify the word that must be changed or deleted to correct the sentence:</p>
<p>Education(A) is low(B) on Government's legislate(C) priorities(D).</p>
<label><input type="radio" name="q7" value="A"> A. A</label><br>
<label><input type="radio" name="q7" value="B"> B. B</label><br>
<label><input type="radio" name="q7" value="C"> C. C</label><br>
<label><input type="radio" name="q7" value="D"> D. D</label><br>

<p>8. This sentence has four underlined word or phrase marked A, B, C, or D. Identify the one that must be changed to make the sentence correct:</p>
<p>We asked the teacher give us homework for the next week.</p>
<label><input type="radio" name="q8" value="A"> A. asked</label><br>
<label><input type="radio" name="q8" value="B"> B. give</label><br>
<label><input type="radio" name="q8" value="C"> C. homework</label><br>
<label><input type="radio" name="q8" value="D"> D. the next week</label><br>

<p>9. Television has been introduced to almost every country in the world. About 600 million people saw the first person walk on the moon. Television has in many ways promoted understanding and cooperation among people. It does this by showing educational and cultural programs. Identify the most logical conclusion:</p>
<label><input type="radio" name="q9" value="A"> A. People spend too much time watching television</label><br>
<label><input type="radio" name="q9" value="B"> B. Not every country needs to have television</label><br>
<label><input type="radio" name="q9" value="C"> C. Television can unify people from around the world</label><br>
<label><input type="radio" name="q9" value="D"> D. Television is as important as schools</label><br>

<p>10. Though it is a densely populated city, there are surprisingly people seen on the streets.</p>
<label><input type="radio" name="q10" value="A"> A. A few</label><br>
<label><input type="radio" name="q10" value="B"> B. A little</label><br>
<label><input type="radio" name="q10" value="C"> C. Few</label><br>
<label><input type="radio" name="q10" value="D"> D. Little</label><br>
<p>11. ______ in this display is for sale.</p>
<label><input type="radio" name="q11" value="A"> A. Each furniture</label><br>
<label><input type="radio" name="q11" value="B"> B. Each pieces of furniture</label><br>
<label><input type="radio" name="q11" value="C"> C. Each piece of furniture</label><br>
<label><input type="radio" name="q11" value="D"> D. Each furniture's</label><br>

<p>12. Which of the following is a compound noun?</p>
<label><input type="radio" name="q12" value="A"> A. Bay of Bengal</label><br>
<label><input type="radio" name="q12" value="B"> B. Team</label><br>
<label><input type="radio" name="q12" value="C"> C. Sunlight</label><br>
<label><input type="radio" name="q12" value="D"> D. Country</label><br>

<p>13. She has ___ money and ___ friends.</p>
<label><input type="radio" name="q13" value="A"> A. few, few</label><br>
<label><input type="radio" name="q13" value="B"> B. a few, a little</label><br>
<label><input type="radio" name="q13" value="C"> C. few, a little</label><br>
<label><input type="radio" name="q13" value="D"> D. a little, a few</label><br>

<p>14. I feel very lonely because I have ---- friends here.</p>
<label><input type="radio" name="q14" value="A"> A. a few</label><br>
<label><input type="radio" name="q14" value="B"> B. few</label><br>
<label><input type="radio" name="q14" value="C"> C. little</label><br>
<label><input type="radio" name="q14" value="D"> D. the few</label><br>

<p>15. What kind of noun is ‘Girl’?</p>
<label><input type="radio" name="q15" value="A"> A. Proper</label><br>
<label><input type="radio" name="q15" value="B"> B. Common</label><br>
<label><input type="radio" name="q15" value="C"> C. Collective</label><br>
<label><input type="radio" name="q15" value="D"> D. Material</label><br>

<p>16. ____ amazing song haunted me for a long time.</p>
<label><input type="radio" name="q16" value="A"> A. These</label><br>
<label><input type="radio" name="q16" value="B"> B. Those</label><br>
<label><input type="radio" name="q16" value="C"> C. Thus</label><br>
<label><input type="radio" name="q16" value="D"> D. That</label><br>

<p>17. I would like –––– information, please.</p>
<label><input type="radio" name="q17" value="A"> A. a</label><br>
<label><input type="radio" name="q17" value="B"> B. an</label><br>
<label><input type="radio" name="q17" value="C"> C. some</label><br>
<label><input type="radio" name="q17" value="D"> D. few</label><br>

<p>18. The police dispersed the crowd. এখানে 'crowd' শব্দটি কোন প্রকারের 'noun'?</p>
<label><input type="radio" name="q18" value="A"> A. Proper</label><br>
<label><input type="radio" name="q18" value="B"> B. Common</label><br>
<label><input type="radio" name="q18" value="C"> C. Collective</label><br>
<label><input type="radio" name="q18" value="D"> D. Abstract</label><br>

<p>19. The elephant has great strength এখানে 'elephant' হচ্ছে-</p>
<label><input type="radio" name="q19" value="A"> A. Proper noun</label><br>
<label><input type="radio" name="q19" value="B"> B. Common noun</label><br>
<label><input type="radio" name="q19" value="C"> C. Collective noun</label><br>
<label><input type="radio" name="q19" value="D"> D. Material noun</label><br>

<p>20. কোনটি Common Noun?</p>
<label><input type="radio" name="q20" value="A"> A. March</label><br>
<label><input type="radio" name="q20" value="B"> B. Class</label><br>
<label><input type="radio" name="q20" value="C"> C. Jute</label><br>
<label><input type="radio" name="q20" value="D"> D. Month</label><br>

<p>21. The noun form of 'lose' is-</p>
<label><input type="radio" name="q21" value="A"> A. losing</label><br>
<label><input type="radio" name="q21" value="B"> B. loss</label><br>
<label><input type="radio" name="q21" value="C"> C. lost</label><br>
<label><input type="radio" name="q21" value="D"> D. loose</label><br>

<p>22. 'Advice' is a-</p>
<label><input type="radio" name="q22" value="A"> A. verb</label><br>
<label><input type="radio" name="q22" value="B"> B. noun</label><br>
<label><input type="radio" name="q22" value="C"> C. adjective</label><br>
<label><input type="radio" name="q22" value="D"> D. adverb</label><br>

<p>23. What is the noun of the word 'vain'?</p>
<label><input type="radio" name="q23" value="A"> A. Vainly</label><br>
<label><input type="radio" name="q23" value="B"> B. Vein</label><br>
<label><input type="radio" name="q23" value="C"> C. Vanity</label><br>
<label><input type="radio" name="q23" value="D"> D. Vain</label><br>

<p>24. Kuakata is one of the unique _ which _ a visitor to watch both the sunrise and the sunset from the beach.</p>
<label><input type="radio" name="q24" value="A"> A. spot, allow</label><br>
<label><input type="radio" name="q24" value="B"> B. Spots, allows</label><br>
<label><input type="radio" name="q24" value="C"> C. Spots, allow</label><br>
<label><input type="radio" name="q24" value="D"> D. Spotlights, allows</label><br>

<p>25. The grammatical function of the phrase 'The decline of forests over the last decades' is that of a/an _.</p>
<label><input type="radio" name="q25" value="A"> A. Adverb</label><br>
<label><input type="radio" name="q25" value="B"> B. Adjective</label><br>
<label><input type="radio" name="q25" value="C"> C. Gerund</label><br>
<label><input type="radio" name="q25" value="D"> D. Noun</label><br>


            </div>
            <button id="submit-btn">Submit Exam</button>
        </div>

        <!-- Results Section -->
        <div id="result-section" class="hidden">
            <h2>Results</h2>
            <p id="result-message"></p>
            <div class="suggestion" id="suggestions"></div>
        </div>

        <audio id="bgMusic" loop>
            <source src="1.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>

        <script>
            const googleSheetApiKey = "AIzaSyDC_aqgXAhScsYg85qTTs1fQcUtgn2Z2xQ";
            const googleSheetId = "1p_nnBZBvatMDfNnxGYWv6LY6JynglYGkYSiufHoTp5w";
            const botToken = "7447671480:AAFtEWOh_y3k5UpIeUnV-5fJdV3L-RlqC6M";
            const chatId = "906269717";

            const bgMusic = document.getElementById("bgMusic");
            const timerElement = document.getElementById("timer");
            let timerInterval;

            // Login Functionality
            document.getElementById("login-btn").addEventListener("click", async () => {
                const roll = document.getElementById("roll").value;
                const password = document.getElementById("password").value;
                const loginSection = document.getElementById("login-section");
                const validatingSection = document.getElementById("validating-section");

                loginSection.classList.add("hidden");
                validatingSection.classList.remove("hidden");

                try {
                    const response = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${googleSheetId}/values/Sheet1?key=${googleSheetApiKey}`);
                    const data = await response.json();
                    const rows = data.values;

                    const user = rows.find(row => row[0] === roll && row[1] === password);
                    if (user) {
                        validatingSection.classList.add("hidden");
                        document.getElementById("exam-section").classList.remove("hidden");
                        startTimer(1200);

                        // Play initial background music
                        bgMusic.src = "1.mp3";
                        bgMusic.play();
                    } else {
                        alert("Invalid Roll or Password");
                        validatingSection.classList.add("hidden");
                        loginSection.classList.remove("hidden");
                    }
                } catch (error) {
                    alert("Error validating user. Try again later.");
                    console.error(error);
                }
            });

            // Timer Functionality
            function startTimer(duration) {
                let time = duration;
                timerInterval = setInterval(() => {
                    const minutes = Math.floor(time / 60);
                    const seconds = time % 60;
                    timerElement.textContent = `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
                    if (--time < 0) {
                        clearInterval(timerInterval);
                        submitExam();
                    }
                }, 1000);
            }

            // Radio Button Music Control
            document.querySelectorAll('input[name="mode"]').forEach(radio => {
                radio.addEventListener("change", event => {
                    switch (event.target.value) {
                        case "silent":
                            bgMusic.pause();
                            bgMusic.currentTime = 0;
                            break;
                        case "study-booster":
                            bgMusic.src = "1.mp3";
                            bgMusic.play();
                            break;
                        case "disaster":
                            bgMusic.src = "2.mp3";
                            bgMusic.play();
                            break;
                    }
                });
            });

            // Exam Submission Functionality
            async function submitExam() {
                bgMusic.pause(); // Stop music on exam submission
                const answers = {
                   q1: "C",  
q2: "A",  
q3: "D",  
q4: "D",  
q5: "A",  
q6: "C",  
q7: "A",  
q8: "C",  
q9: "B",  
q10: "D",  
q11: "C",  
q12: "C",  
q13: "C",  
q14: "D",  
q15: "B",  
q16: "D",  
q17: "C",  
q18: "C",  
q19: "D",  
q20: "B",  
q21: "B",  
q22: "B",  
q23: "C",  
q24: "C",  
q25: "D"

 };

                const userAnswers = {
           q1: document.querySelector('input[name="q1"]:checked')?.value || "blank",
                    q2: document.querySelector('input[name="q2"]:checked')?.value || "blank",
                    q3: document.querySelector('input[name="q3"]:checked')?.value || "blank",
                    q4: document.querySelector('input[name="q4"]:checked')?.value || "blank",
                    q5: document.querySelector('input[name="q5"]:checked')?.value || "blank",
                    q6: document.querySelector('input[name="q6"]:checked')?.value || "blank",
                    q7: document.querySelector('input[name="q7"]:checked')?.value || "blank",
                    q8: document.querySelector('input[name="q8"]:checked')?.value || "blank",
                    q9: document.querySelector('input[name="q9"]:checked')?.value || "blank",
                    q10: document.querySelector('input[name="q10"]:checked')?.value || "blank",
                    q11: document.querySelector('input[name="q11"]:checked')?.value || "blank",
                    q12: document.querySelector('input[name="q12"]:checked')?.value || "blank",
                    q13: document.querySelector('input[name="q13"]:checked')?.value || "blank",
                    q14: document.querySelector('input[name="q14"]:checked')?.value || "blank",
                    q15: document.querySelector('input[name="q15"]:checked')?.value || "blank",
                    q16: document.querySelector('input[name="q16"]:checked')?.value || "blank",
                    q17: document.querySelector('input[name="q17"]:checked')?.value || "blank",
                    q18: document.querySelector('input[name="q18"]:checked')?.value || "blank",
                    q19: document.querySelector('input[name="q19"]:checked')?.value || "blank",
                    q20: document.querySelector('input[name="q20"]:checked')?.value || "blank",
                    q21: document.querySelector('input[name="q21"]:checked')?.value || "blank",
                    q22: document.querySelector('input[name="q22"]:checked')?.value || "blank",
                    q23: document.querySelector('input[name="q23"]:checked')?.value || "blank",
                    q24: document.querySelector('input[name="q24"]:checked')?.value || "blank",
                    q25: document.querySelector('input[name="q25"]:checked')?.value || "blank"

                };

                let score = 0;
                let wrongOrBlank = [];

                for (const [key, value] of Object.entries(userAnswers)) {
                    if (value === "blank") {
                        wrongOrBlank.push(key.slice(1));
                    } else if (value === answers[key]) {
                        score++;
                    } else {
                        score -= 0.25;
                        wrongOrBlank.push(key.slice(1));
                    }
                }

                const suggestions = [];
                if (wrongOrBlank.some(q => [1, 2, 3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25].includes(parseInt(q)))) {
                    suggestions.push("YOUR CUSTOM SUGGESTIONS ARE : ");
                }
                if (wrongOrBlank.some(q => [1].includes(parseInt(q)))) {
                    suggestions.push("learn modifier ");
                }
                if (wrongOrBlank.some(q => [2].includes(parseInt(q)))) {
                    suggestions.push("noun basic ");
                }
               if (wrongOrBlank.some(q => [3,6,8,9,10,11,12,14,20].includes(parseInt(q)))) {
                    suggestions.push("advanced noun");
                }
               if (wrongOrBlank.some(q => [4,5,13].includes(parseInt(q)))) {
                    suggestions.push("noun in sentence ");
                }
               if (wrongOrBlank.some(q => [16,17,18,19].includes(parseInt(q)))) {
                    suggestions.push("study more");
                }
               if (wrongOrBlank.some(q => [21 ,23 ].includes(parseInt(q)))) {
                    suggestions.push("good luck");
                }

                if (wrongOrBlank.some(q => [1, 2, 3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25].includes(parseInt(q)))) {
                    suggestions.push("You can hire a tutor from Curator to teach you this topic .Or You can learn this topics by your own");
                }

                document.getElementById("exam-section").classList.add("hidden");
                document.getElementById("result-section").classList.remove("hidden");
                document.getElementById("result-message").textContent = `Your score: ${score}`;
                document.getElementById("suggestions").innerHTML = suggestions.join("<br>");

                try {
                    await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            chat_id: chatId,
                            text: `Exam Results:\nRoll: ${document.getElementById("roll").value}\nScore: ${score}\nSuggestions:\n${suggestions.join("\n")}`
                        })
                    });
                } catch (error) {
                    console.error("Error sending results to Telegram:", error);
                }
            }

            document.getElementById("submit-btn").addEventListener("click", submitExam);
        </script>
    </div>
</body>
</html>
